this concierge agent is a different version of the one implemented in 'order_creator.ipynb'. the one in this code is older, but it has an important feature: it's integrated into the async flow using the api to send messages and receive async user inputs. but the other one in the ipynb, is newer, it implements chathistory management and more logging. i need you to carefully implement the update, but mantaining the async integration working.